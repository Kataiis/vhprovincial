(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{9614:function(e,t,r){Promise.resolve().then(r.bind(r,6600))},6600:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return D}});var a=r(7437),s=r(2265),o=r(1657);let n=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});n.displayName="Input";var l=r(2670);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...s})}).displayName="CardHeader",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})}).displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter";var c=r(248),u=r(1270),m=r(5754),f=r(6371),g=r(1506);let p=(0,r(9769).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(g.f,{ref:t,className:(0,o.cn)(p(),r),...s})});x.displayName=g.f.displayName;let h=s.createContext({}),v=e=>{let{...t}=e;return(0,a.jsx)(h.Provider,{value:{name:t.name},children:(0,a.jsx)(l.Qr,{...t})})},b=()=>{let e=s.useContext(h),t=s.useContext(y),{getFieldState:r,formState:a}=(0,l.Gc)(),o=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...o}},y=s.createContext({}),w=s.forwardRef((e,t)=>{let{className:r,...n}=e,l=s.useId();return(0,a.jsx)(y.Provider,{value:{id:l},children:(0,a.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",r),...n})})});w.displayName="FormItem",s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:n,formItemId:l}=b();return(0,a.jsx)(x,{ref:t,className:(0,o.cn)(n&&"text-destructive",r),htmlFor:l,...s})}).displayName="FormLabel";let j=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:o,formDescriptionId:n,formMessageId:l}=b();return(0,a.jsx)(f.g7,{ref:t,id:o,"aria-describedby":s?"".concat(n," ").concat(l):"".concat(n),"aria-invalid":!!s,...r})});j.displayName="FormControl",s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:n}=b();return(0,a.jsx)("p",{ref:t,id:n,className:(0,o.cn)("text-sm text-muted-foreground",r),...s})}).displayName="FormDescription";let N=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e,{error:l,formMessageId:i}=b(),d=l?String(null==l?void 0:l.message):s;return d?(0,a.jsx)("p",{ref:t,id:i,className:(0,o.cn)("text-sm font-medium text-destructive",r),...n,children:d}):null});N.displayName="FormMessage";var C=r(1603),R=r(7908),k=r(7907),_=r(3411),I=r.n(_),F=r(703),z=r(8971),D=()=>{let[e,t]=(0,s.useState)(!1),[r,o]=(0,s.useState)(""),[f,g]=(0,s.useState)({}),p="https://hyggemedicalservice.com/phpapi/api",x=(0,k.useRouter)(),h=(0,C.Np)(e=>e.updatePatient),b=(0,C.C7)(e=>e.updateline);(0,C.C7)(e=>e.updateline);let y=c.Ry({username:c.Z_({required_error:"กรุณาใส่ เลขประจำตัวประชาชน"}),password:c.Z_({required_error:"กรุณาใส่ Password"})}),_=(0,l.cI)({resolver:(0,u.F)(y),defaultValues:{username:"",password:""}}),D=async(e,t)=>{let r={req_cid:e.cid,favhos1:e.favhos1,line_id:t},a={cid:e.cid,lineid:t,hospcode:"RP001"};console.log("dataIns",r);let s=await R.Z.post(p+"/health/hiereq/store_hyggeoa",DataTransferItemList);if(console.log("resIns",s.data),s.data.ok){console.log("insert hie_request success");let r=await R.Z.post("".concat(p,"/health/phrviewlog/ins"),{cid:e.cid,line_id:t});if(console.log("log",r.data),console.log("lineid:",t),r.data.ok){let e=await R.Z.post("".concat(p,"/health/hyggelineservice"),a);if(console.log("service",e.data),e.data.ok)console.log(e.data.message),x.replace("/agreement");else throw Error(e.data.error)}else throw Error(r.data.error)}else throw Error(s.data.error)},E=async e=>{t(!0);let a=await z.Z.getProfile();console.log(a),g(a),o(null==a?void 0:a.userId),b(null==a?void 0:a.userId),console.warn(r),console.log("dataSend : ",a),console.log("cid : ",e.username),console.log("password : ",e.password);let s=await R.Z.post("".concat(p,"/health/hygge_citizen/checkbycitizen"),{cid:e.username,passcode:e.password});if(console.log("res login : ",s.data),s.data.ok){if(console.log("message : ",s.data.message),console.log("message.length : ",s.data.message.length),s.data.message.length>0){let e=await R.Z.post("".concat(p,"/health/hygge_citizen/bycid"),{cid:s.data.message[0].cid});h(e.data.message[0]),console.log("res2.data.message[0]`",e.data.message[0]),D(e.data.message[0],"".concat(a.userId))}else I().fire({title:"เข้าสู่ระบบไม่สำเร็จ",icon:"error",html:"เลขประจำตัวประชาชน หรือ รหัสผ่าน ไม่ถูกต้อง<br>กรุณาลองอีกครั้ง",showCloseButton:!0,showConfirmButton:!1}).then(()=>{_.reset(),t(!1)})}else throw Error(s.data.error)};return(0,a.jsxs)("div",{className:"",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:"#1D4C60"},children:[(0,a.jsx)("span",{style:{fontSize:"9em",marginRight:"10px"},children:(0,a.jsx)(F.default,{priority:!0,src:"/vhprovincial/hyggelogo.png",alt:"logo",width:65})}),(0,a.jsx)("p",{className:"mt-5 text-center text-3xl text-white ",children:"หน่วยบริการสุขภาพ"}),(0,a.jsx)("p",{className:"mt-1 text-center text-lg text-white ",children:"องค์การบริหารส่วนจังหวัดฮุกกะ"}),(0,a.jsx)("br",{}),(0,a.jsxs)(i,{className:" rounded-2xl ",children:[(0,a.jsx)("br",{}),(0,a.jsx)(d,{className:"mt-6",children:(0,a.jsx)(l.RV,{..._,children:(0,a.jsx)("form",{id:"frmLogin",className:"space-y-8",onSubmit:_.handleSubmit(E),children:(0,a.jsxs)("div",{className:"grid w-full items-center gap-4",children:[(0,a.jsx)(v,{control:_.control,name:"username",render:e=>{let{field:t}=e;return(0,a.jsxs)(w,{children:[(0,a.jsx)("div",{className:"flex flex-col space-y-1.5 mb-1 ",children:(0,a.jsx)(j,{children:(0,a.jsx)(n,{inputMode:"numeric",className:"text-center text-lg",id:"username",placeholder:"เลขประจำตัวประชาชน",maxLength:13,...t})})}),(0,a.jsx)(N,{})]})}}),(0,a.jsx)(v,{control:_.control,name:"password",render:e=>{let{field:t}=e;return(0,a.jsx)(w,{children:(0,a.jsxs)("div",{className:"flex flex-col space-y-1.5 mb-5",children:[(0,a.jsx)(j,{children:(0,a.jsx)(n,{inputMode:"numeric",className:"text-center text-lg",id:"password",type:"password",placeholder:"รหัสผ่าน",maxLength:6,...t})}),(0,a.jsx)(N,{})]})})}}),(0,a.jsx)(m.z,{type:"submit",variant:"outline",className:"bg-[#2150C9] text-white drop-shadow-md text-md hover:bg-[#eaefe8] hover:text-grey hover:text-lg",disabled:e,children:"ล็อกอิน"})]})})})}),(0,a.jsx)("div",{className:"flex justify-center mb-5",children:(0,a.jsx)(m.z,{type:"submit",variant:"outline",className:"bg-[#53AE85] text-grey drop-shadow-md text-md hover:bg-[#eaefe8] hover:text-grey hover:text-lg text-[#ffffff] h-[45px] w-[250px]",disabled:e,onClick:()=>x.replace("/comingsoon"),children:"ลืม password"})})]}),(0,a.jsx)("div",{className:"mt-10",children:(0,a.jsx)(m.z,{type:"submit",variant:"outline",className:"bg-[#006A38] text-white drop-shadow-lg text-md  hover:bg-[#eaefe8] hover:text-grey hover:text-lg  ",onClick:()=>x.replace("/register"),children:"วิธีการลงทะเบียน ขอรหัสผ่าน"})})]})}},1603:function(e,t,r){"use strict";r.d(t,{C7:function(){return n},Np:function(){return o}});var a=r(2020),s=r(5249);let o=(0,a.Ue)(e=>({patient:null,updatePatient:t=>e({patient:t})})),n=(0,a.Ue)(e=>({linezod:null,updateline:t=>e({linezod:t})}));(0,a.Ue)((0,s.mW)((0,s.tJ)((e,t)=>({userData:null,updateUserData:t=>e({userData:t})}),{name:"user",storage:(0,s.FL)(()=>sessionStorage)})))},5754:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(7437),s=r(2265),o=r(6371),n=r(9769),l=r(1657);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:d=!1,...c}=e,u=d?o.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(i({variant:s,size:n,className:r})),ref:t,...c})});d.displayName="Button"},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return o}});var a=r(3167),s=r(1367);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}},function(e){e.O(0,[461,202,130,818,869,580,971,69,744],function(){return e(e.s=9614)}),_N_E=e.O()}]);