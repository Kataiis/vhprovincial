(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{9614:function(e,t,r){Promise.resolve().then(r.bind(r,268))},268:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var a=r(7437),s=r(2265),n=r(1657);let o=s.forwardRef((e,t)=>{let{className:r,type:s,...o}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...o})});o.displayName="Input";var l=r(2670);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})}).displayName="CardHeader",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})}).displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter";var c=r(248),u=r(1270),m=r(5754),f=r(6371),g=r(1506);let h=(0,r(9769).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(g.f,{ref:t,className:(0,n.cn)(h(),r),...s})});p.displayName=g.f.displayName;let x=s.createContext({}),v=e=>{let{...t}=e;return(0,a.jsx)(x.Provider,{value:{name:t.name},children:(0,a.jsx)(l.Qr,{...t})})},b=()=>{let e=s.useContext(x),t=s.useContext(y),{getFieldState:r,formState:a}=(0,l.Gc)(),n=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...n}},y=s.createContext({}),w=s.forwardRef((e,t)=>{let{className:r,...o}=e,l=s.useId();return(0,a.jsx)(y.Provider,{value:{id:l},children:(0,a.jsx)("div",{ref:t,className:(0,n.cn)("space-y-2",r),...o})})});w.displayName="FormItem",s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:o,formItemId:l}=b();return(0,a.jsx)(p,{ref:t,className:(0,n.cn)(o&&"text-destructive",r),htmlFor:l,...s})}).displayName="FormLabel";let j=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:n,formDescriptionId:o,formMessageId:l}=b();return(0,a.jsx)(f.g7,{ref:t,id:n,"aria-describedby":s?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!s,...r})});j.displayName="FormControl",s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:o}=b();return(0,a.jsx)("p",{ref:t,id:o,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})}).displayName="FormDescription";let N=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e,{error:l,formMessageId:i}=b(),d=l?String(null==l?void 0:l.message):s;return d?(0,a.jsx)("p",{ref:t,id:i,className:(0,n.cn)("text-sm font-medium text-destructive",r),...o,children:d}):null});N.displayName="FormMessage";var A=r(1603),C=r(7908),R=r(7907),I=r(3411),F=r.n(I),k=r(703),D=r(8971),_={src:"/vhprovincial/_next/static/media/hyggelogo.ecdb979e.png",height:300,width:300,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAyElEQVR42mPwlREKUJH1V5ICIl85UX9laV85EaAgg48UvyUDgxMDgz0Dg5cQoy0DgwcXg5cwC4OPJF9TcWF+VERpYnyooU5FWkqMjUWYsR5DTVbGivnzdm3etHjmjI0rlgPZi2dMzwkNZmgpLV61YP6KeXPLU5I2LF1SlZ66bM7snNAgBnMGhs6qiurMdBcGhmAdtQA1+VAD7WBddQZfWWF3BgZ/RUlvcW5vcS6gW7xEWIEMBl8ZYaArfaQFgCp8ZUWAXBBDRggAaSQ2A3DRFF0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},E=()=>{let[e,t]=(0,s.useState)(!1),[r,n]=(0,s.useState)(""),[f,g]=(0,s.useState)({}),h="https://hyggemedicalservice.com/phpapi/api",p=(0,R.useRouter)(),x=(0,A.Np)(e=>e.updatePatient),b=(0,A.C7)(e=>e.updateline);(0,A.C7)(e=>e.updateline);let y=c.Ry({username:c.Z_({required_error:"กรุณาใส่ เลขประจำตัวประชาชน"}),password:c.Z_({required_error:"กรุณาใส่ Password"})}),I=(0,l.cI)({resolver:(0,u.F)(y),defaultValues:{username:"",password:""}}),E=async(e,t)=>{let r={req_cid:e.cid,favhos1:e.favhos1,line_id:t},a={cid:e.cid,lineid:t,hospcode:"RP001"};console.log("dataIns",r);let s=await C.Z.post(h+"/health/hiereq/store_hyggeoa",DataTransferItemList);if(console.log("resIns",s.data),s.data.ok){console.log("insert hie_request success");let r=await C.Z.post("".concat(h,"/health/phrviewlog/ins"),{cid:e.cid,line_id:t});if(console.log("log",r.data),console.log("lineid:",t),r.data.ok){let e=await C.Z.post("".concat(h,"/health/hyggelineservice"),a);if(console.log("service",e.data),e.data.ok)console.log(e.data.message),p.replace("/agreement");else throw Error(e.data.error)}else throw Error(r.data.error)}else throw Error(s.data.error)},U=async e=>{t(!0);let a=await D.Z.getProfile();console.log(a),g(a),n(null==a?void 0:a.userId),b(null==a?void 0:a.userId),console.warn(r),console.log("dataSend : ",a),console.log("cid : ",e.username),console.log("password : ",e.password);let s=await C.Z.post("".concat(h,"/health/hygge_citizen/checkbycitizen"),{cid:e.username,passcode:e.password});if(console.log("res login : ",s.data),s.data.ok){if(console.log("message : ",s.data.message),console.log("message.length : ",s.data.message.length),s.data.message.length>0){let e=await C.Z.post("".concat(h,"/health/hygge_citizen/bycid"),{cid:s.data.message[0].cid});x(e.data.message[0]),console.log("res2.data.message[0]`",e.data.message[0]),E(e.data.message[0],"".concat(a.userId))}else F().fire({title:"เข้าสู่ระบบไม่สำเร็จ",icon:"error",html:"เลขประจำตัวประชาชน หรือ รหัสผ่าน ไม่ถูกต้อง<br>กรุณาลองอีกครั้ง",showCloseButton:!0,showConfirmButton:!1}).then(()=>{I.reset(),t(!1)})}else throw Error(s.data.error)};return(0,a.jsxs)("div",{className:"",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:"#1D4C60"},children:[(0,a.jsx)("span",{style:{fontSize:"9em",marginRight:"10px"},children:(0,a.jsx)(k.default,{priority:!0,src:_,alt:"logo",width:65})}),(0,a.jsx)("p",{className:"mt-5 text-center text-3xl text-white ",children:"หน่วยบริการสุขภาพ"}),(0,a.jsx)("p",{className:"mt-1 text-center text-lg text-white ",children:"องค์การบริหารส่วนจังหวัดฮุกกะ"}),(0,a.jsx)("br",{}),(0,a.jsxs)(i,{className:" rounded-2xl ",children:[(0,a.jsx)("br",{}),(0,a.jsx)(d,{className:"mt-6",children:(0,a.jsx)(l.RV,{...I,children:(0,a.jsx)("form",{id:"frmLogin",className:"space-y-8",onSubmit:I.handleSubmit(U),children:(0,a.jsxs)("div",{className:"grid w-full items-center gap-4",children:[(0,a.jsx)(v,{control:I.control,name:"username",render:e=>{let{field:t}=e;return(0,a.jsxs)(w,{children:[(0,a.jsx)("div",{className:"flex flex-col space-y-1.5 mb-1 ",children:(0,a.jsx)(j,{children:(0,a.jsx)(o,{inputMode:"numeric",className:"text-center text-lg",id:"username",placeholder:"เลขประจำตัวประชาชน",maxLength:13,...t})})}),(0,a.jsx)(N,{})]})}}),(0,a.jsx)(v,{control:I.control,name:"password",render:e=>{let{field:t}=e;return(0,a.jsx)(w,{children:(0,a.jsxs)("div",{className:"flex flex-col space-y-1.5 mb-5",children:[(0,a.jsx)(j,{children:(0,a.jsx)(o,{inputMode:"numeric",className:"text-center text-lg",id:"password",type:"password",placeholder:"รหัสผ่าน",maxLength:6,...t})}),(0,a.jsx)(N,{})]})})}}),(0,a.jsx)(m.z,{type:"submit",variant:"outline",className:"bg-[#2150C9] text-white drop-shadow-md text-md hover:bg-[#eaefe8] hover:text-grey hover:text-lg",disabled:e,children:"ล็อกอิน"})]})})})}),(0,a.jsx)("div",{className:"flex justify-center mb-5",children:(0,a.jsx)(m.z,{type:"submit",variant:"outline",className:"bg-[#53AE85] text-grey drop-shadow-md text-md hover:bg-[#eaefe8] hover:text-grey hover:text-lg text-[#ffffff] h-[45px] w-[250px]",disabled:e,onClick:()=>p.replace("/comingsoon"),children:"ลืม password"})})]}),(0,a.jsx)("div",{className:"mt-10",children:(0,a.jsx)(m.z,{type:"submit",variant:"outline",className:"bg-[#006A38] text-white drop-shadow-lg text-md  hover:bg-[#eaefe8] hover:text-grey hover:text-lg  ",onClick:()=>p.replace("/register"),children:"วิธีการลงทะเบียน ขอรหัสผ่าน"})})]})}},1603:function(e,t,r){"use strict";r.d(t,{C7:function(){return o},Np:function(){return n}});var a=r(2020),s=r(5249);let n=(0,a.Ue)(e=>({patient:null,updatePatient:t=>e({patient:t})})),o=(0,a.Ue)(e=>({linezod:null,updateline:t=>e({linezod:t})}));(0,a.Ue)((0,s.mW)((0,s.tJ)((e,t)=>({userData:null,updateUserData:t=>e({userData:t})}),{name:"user",storage:(0,s.FL)(()=>sessionStorage)})))},5754:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(7437),s=r(2265),n=r(6371),o=r(9769),l=r(1657);let i=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(i({variant:s,size:o,className:r})),ref:t,...c})});d.displayName="Button"},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(3167),s=r(1367);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}},function(e){e.O(0,[461,202,130,818,869,580,971,69,744],function(){return e(e.s=9614)}),_N_E=e.O()}]);